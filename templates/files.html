{% extends "base.html" %}

{% block content %}
<div class="files-container">
    <div class="files-header">
        <h1><i class="fas fa-folder-open"></i> File Library</h1>
        <div class="search-box">
            <i class="fas fa-search"></i>
            <input type="text" id="searchInput" placeholder="Search files...">
        </div>
    </div>
    
    <div class="files-stats">
        <div class="stat-item">
            <i class="fas fa-file"></i>
            <span id="fileCount">0</span> Files
        </div>
        <div class="stat-item">
            <i class="fas fa-database"></i>
            <span id="totalSizeDisplay">0 MB</span> Total
        </div>
    </div>
    
    <div class="files-table-container">
        <table class="files-table">
            <thead>
                <tr>
                    <th><i class="fas fa-file"></i> File Name</th>
                    <th><i class="fas fa-weight"></i> Size</th>
                    <th><i class="fas fa-calendar"></i> Upload Date</th>
                    <th><i class="fas fa-download"></i> Downloads</th>
                    <th><i class="fas fa-fingerprint"></i> MD5 Hash</th>
                    <th><i class="fas fa-cogs"></i> Actions</th>
                </tr>
            </thead>
            <tbody id="filesTableBody">
                <!-- Files will be loaded here -->
            </tbody>
        </table>
        
        <div id="noFiles" class="no-files" style="display: none;">
            <i class="fas fa-folder-open"></i>
            <h3>No files found</h3>
            <p>Upload some files to get started!</p>
            <a href="/upload" class="btn btn-primary">
                <i class="fas fa-upload"></i> Upload Files
            </a>
        </div>
    </div>
    
    <div class="file-actions">
        <button class="btn btn-secondary" onclick="refreshFiles()">
            <i class="fas fa-sync-alt"></i> Refresh
        </button>
        <a href="/upload" class="btn btn-primary">
            <i class="fas fa-plus"></i> Upload New File
        </a>
    </div>
</div>

<!-- Delete Confirmation Modal -->
<div id="deleteModal" class="modal" style="display: none;">
    <div class="modal-content">
        <div class="modal-header">
            <h3><i class="fas fa-exclamation-triangle"></i> Confirm Delete</h3>
        </div>
        <div class="modal-body">
            <p>Are you sure you want to delete "<span id="deleteFileName"></span>"?</p>
            <p><small>This action cannot be undone.</small></p>
        </div>
        <div class="modal-footer">
            <button class="btn btn-secondary" onclick="closeDeleteModal()">Cancel</button>
            <button class="btn btn-danger" id="confirmDeleteBtn">Delete</button>
        </div>
    </div>
</div>

<div class="recent-activity">
    <h2><i class="fas fa-history"></i> File Activity</h2>
    <div id="activityLog" class="activity-log"></div>
</div>
{% endblock %}